<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ù„Ù…ØµÙ…Ù…ÙŠÙ† Ø§Ù„Ù…ØµØ±ÙŠÙŠÙ† ÙˆØ§Ù„Ø¹Ø±Ø¨">
    <title>ÙƒØ±ÙˆÙ…Ø§ØªÙŠÙƒ Ø¨Ø±Ùˆ | Chromatic Pro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ --- */
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e293b;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
            --radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            outline: none;
        }

        body {
            font-family: 'Almarai', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
            padding-bottom: 80px;
        }

        /* --- 2. Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ù†Ø§Ù Ø¨Ø§Ø± --- */
        header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 5%;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-weight: 800;
            font-size: 1.6rem;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .logo span { color: var(--primary-color); }

        nav { display: flex; gap: 10px; }

        .nav-btn {
            background: transparent;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-family: inherit;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            transition: var(--transition);
        }

        .nav-btn:hover { background: #eff6ff; color: var(--primary-color); }
        .nav-btn.active { background: var(--secondary-color); color: white; }

        /* --- 3. ØªØµÙ…ÙŠÙ… Ø§Ù„ØµÙØ­Ø§Øª (Grid System) --- */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 80vh;
        }

        .section { display: none; opacity: 0; transform: translateY(20px); transition: 0.5s; }
        .section.active { display: block; opacity: 1; transform: translateY(0); }

        h1.page-title {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: var(--secondary-color);
        }
        p.page-subtitle {
            text-align: center;
            color: var(--text-muted);
            margin-bottom: 50px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* --- 4. Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©: Ø§Ù„Ø£Ù‚Ø³Ø§Ù… --- */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .category-card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow-sm);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: #e2e8f0;
        }

        .cat-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            box-shadow: var(--shadow-md);
            flex-shrink: 0;
        }

        .cat-info h3 { font-size: 1.2rem; margin-bottom: 5px; }
        .cat-info p { font-size: 0.9rem; color: var(--text-muted); }

        /* --- 5. ØµÙØ­Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ (Deep Dive) --- */
        .back-bar { margin-bottom: 30px; }
        .back-btn {
            display: inline-flex; align-items: center; gap: 8px;
            background: white; border: 1px solid #e2e8f0;
            padding: 10px 20px; border-radius: 50px;
            cursor: pointer; font-weight: 700; transition: var(--transition);
        }
        .back-btn:hover { background: #f1f5f9; }

        .palette-section { margin-bottom: 60px; }
        .palette-title {
            font-size: 1.4rem; margin-bottom: 25px;
            display: flex; align-items: center; gap: 10px;
            color: var(--secondary-color);
        }
        .palette-title::before {
            content: ''; width: 6px; height: 30px;
            background: var(--primary-color); border-radius: 4px;
        }

        .colors-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 20px;
        }

        .color-item {
            border-radius: 18px; overflow: hidden;
            box-shadow: var(--shadow-sm); cursor: pointer;
            transition: var(--transition); background: white;
            position: relative;
        }

        .color-item:hover { transform: scale(1.03); box-shadow: var(--shadow-lg); }

        .color-preview { height: 130px; width: 100%; position: relative; }
        .color-details { padding: 12px; text-align: center; }
        .color-name { font-weight: 700; font-size: 0.95rem; margin-bottom: 2px; }
        .color-hex { font-size: 0.8rem; color: var(--text-muted); font-family: monospace; }
        
        .copy-overlay {
            position: absolute; top:0; left:0; width:100%; height:100%;
            background: rgba(0,0,0,0.3); display: flex;
            align-items: center; justify-content: center;
            opacity: 0; transition: 0.2s; color: white; font-weight: bold;
        }
        .color-item:hover .copy-overlay { opacity: 1; }

        /* --- 6. ØµÙØ­Ø© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© (VS) --- */
        .vs-container {
            background: white; border-radius: 20px;
            box-shadow: var(--shadow-lg); overflow: hidden;
            border: 1px solid #e2e8f0;
        }
        .vs-header {
            padding: 20px; background: #f8fafc; border-bottom: 1px solid #e2e8f0;
            display: flex; justify-content: center; gap: 20px; align-items: center;
        }
        .vs-body { display: flex; height: 50vh; }
        .vs-half {
            flex: 1; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            transition: background 0.5s ease;
            position: relative;
        }
        
        select.vs-select {
            padding: 10px 30px; border-radius: 10px; border: 1px solid #cbd5e1;
            font-size: 1rem; font-family: inherit; cursor: pointer;
        }

        /* --- 7. ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Quiz) --- */
        .quiz-card {
            background: white; max-width: 500px; margin: 0 auto;
            border-radius: 24px; padding: 30px; box-shadow: var(--shadow-lg);
            text-align: center;
        }
        .quiz-target {
            width: 150px; height: 150px; border-radius: 50%;
            margin: 0 auto 30px; box-shadow: var(--shadow-md);
            border: 5px solid #f1f5f9; transition: 0.3s;
        }
        .quiz-options button {
            display: block; width: 100%; padding: 15px; margin-bottom: 10px;
            background: #f8fafc; border: 2px solid #e2e8f0;
            border-radius: 12px; font-size: 1.1rem; font-weight: 600;
            cursor: pointer; transition: 0.2s;
        }
        .quiz-options button:hover { background: #e2e8f0; }
        .quiz-options button.correct { background: #dcfce7; border-color: #22c55e; color: #15803d; }
        .quiz-options button.wrong { background: #fee2e2; border-color: #ef4444; color: #b91c1c; }

        /* --- 8. Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ (Popup) --- */
        .modal-backdrop {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(4px);
            z-index: 2000; display: none; align-items: center; justify-content: center;
            opacity: 0; transition: opacity 0.3s;
        }
        .modal-backdrop.open { display: flex; opacity: 1; }
        
        .modal {
            background: white; width: 90%; max-width: 450px;
            border-radius: 24px; padding: 40px; text-align: center;
            position: relative; transform: scale(0.9); transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        .modal-backdrop.open .modal { transform: scale(1); }

        .close-modal {
            position: absolute; top: 20px; right: 20px;
            background: #f1f5f9; border: none; width: 35px; height: 35px;
            border-radius: 50%; cursor: pointer; font-size: 1.2rem; color: #64748b;
        }
        
        .modal-swatch {
            width: 100px; height: 100px; border-radius: 40%;
            margin: 0 auto 20px; box-shadow: var(--shadow-md);
            transform: rotate(-10deg);
        }

        .tag {
            display: inline-block; padding: 5px 12px; border-radius: 20px;
            background: #f1f5f9; color: var(--text-muted); font-size: 0.8rem;
            margin-bottom: 20px;
        }

        .info-grid {
            display: grid; grid-template-columns: 1fr; gap: 10px; text-align: right;
            background: #f8fafc; padding: 20px; border-radius: 16px; margin-top: 20px;
        }
        .info-item h4 { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 4px; }
        .info-item p { font-size: 1rem; font-weight: 700; color: var(--text-main); }

        /* --- Toast Notification --- */
        .toast {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: #1e293b; color: white; padding: 12px 24px; border-radius: 50px;
            font-weight: 600; font-size: 0.9rem; box-shadow: var(--shadow-lg);
            opacity: 0; transition: 0.3s; pointer-events: none; z-index: 3000;
        }
        .toast.show { opacity: 1; bottom: 40px; }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-container { flex-direction: column; gap: 15px; }
            .vs-body { flex-direction: column; }
            h1.page-title { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

    <header>
        <div class="nav-container">
            <div class="logo">
                Chrom<span>atic</span>
            </div>
            <nav>
                <button class="nav-btn active" onclick="app.router('home')" id="nav-home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                <button class="nav-btn" onclick="app.router('vs')" id="nav-vs">Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</button>
                <button class="nav-btn" onclick="app.router('quiz')" id="nav-quiz">Ø§Ù„ØªØ­Ø¯ÙŠ</button>
            </nav>
        </div>
    </header>

    <main>
        <section id="home" class="section active">
            <h1 class="page-title">Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØµØ±ÙŠØ©</h1>
            <p class="page-subtitle">Ø£ÙƒØ¨Ø± Ø¯Ù„ÙŠÙ„ Ø¨ØµØ±ÙŠ Ù„Ù„Ù…ØµÙ…Ù…ÙŠÙ†.. Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¨Ø£Ø³Ù…Ø§Ø¦Ù‡Ø§ Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ØµØ±ÙŠØŒ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….</p>
            
            <div class="categories-grid" id="categories-container">
                </div>
        </section>

        <section id="details" class="section">
            <div class="back-bar">
                <button class="back-btn" onclick="app.router('home')">
                    â† Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
            </div>
            <h1 class="page-title" id="category-title"></h1>
            <div id="palettes-container">
                </div>
        </section>

        <section id="vs" class="section">
            <h1 class="page-title">Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©</h1>
            <p class="page-subtitle">Ø§Ø®ØªØ§Ø± Ù„ÙˆÙ†ÙŠÙ† ÙˆØ´ÙˆÙ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ†Ù‡Ù… "Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©".</p>
            
            <div class="vs-container">
                <div class="vs-header">
                    <select id="vs-sel-1" class="vs-select" onchange="app.renderVS()"></select>
                    <span>VS</span>
                    <select id="vs-sel-2" class="vs-select" onchange="app.renderVS()"></select>
                </div>
                <div class="vs-body">
                    <div class="vs-half" id="vs-left">
                        <h2 id="vs-name-1" style="font-size:1.5rem; margin-bottom:5px;"></h2>
                        <span id="vs-hex-1" style="font-family:monospace; opacity:0.8;"></span>
                    </div>
                    <div class="vs-half" id="vs-right">
                        <h2 id="vs-name-2" style="font-size:1.5rem; margin-bottom:5px;"></h2>
                        <span id="vs-hex-2" style="font-family:monospace; opacity:0.8;"></span>
                    </div>
                </div>
            </div>
        </section>

        <section id="quiz" class="section">
            <h1 class="page-title">ØªØ­Ø¯ÙŠ Ø¹ÙŠÙ† Ø§Ù„ØµÙ‚Ø± ğŸ¦…</h1>
            <p class="page-subtitle">Ù‡Ù„ ØªÙ‚Ø¯Ø± ØªÙ…ÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø©ØŸ</p>
            
            <div class="quiz-card">
                <div class="quiz-target" id="quiz-target"></div>
                <div class="quiz-options" id="quiz-options"></div>
                <div id="quiz-feedback" style="height:20px; margin-top:15px; font-weight:bold;"></div>
                <button onclick="app.nextQuiz()" id="quiz-next-btn" style="margin-top:20px; padding:10px 30px; background:var(--secondary-color); color:white; border:none; border-radius:50px; cursor:pointer; display:none;">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </section>
    </main>

    <div class="modal-backdrop" id="modal-backdrop">
        <div class="modal" id="modal-content">
            <button class="close-modal" onclick="app.closeModal()">Ã—</button>
            <div class="modal-swatch" id="m-swatch"></div>
            <span class="tag" id="m-hex"></span>
            <h2 id="m-name" style="margin-bottom:5px; font-size:1.8rem;"></h2>
            
            <div class="info-grid">
                <div class="info-item">
                    <h4>âš“ Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„ÙˆØ§Ù‚Ø¹ÙŠ (Anchor)</h4>
                    <p id="m-anchor"></p>
                </div>
                <div class="info-item">
                    <h4>ğŸ§  Ø§Ù„Ø¥Ø­Ø³Ø§Ø³ (Mood)</h4>
                    <p id="m-mood"></p>
                </div>
            </div>
            
            <button onclick="app.copyFromModal()" style="margin-top:25px; width:100%; padding:15px; background:var(--primary-color); color:white; border:none; border-radius:12px; font-weight:700; cursor:pointer;">Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
        </div>
    </div>

    <div class="toast" id="toast">ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­! ğŸ“‹</div>

    <script>
        /**
         * CHROMATIC PRO - DATABASE
         * Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ÙˆØ³Ø¹Ø© Ù„ØªØºØ·ÙŠ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ØµØ±ÙŠ
         */
        const DB = {
            blue: {
                id: 'blue', name: "Ø§Ù„Ø£Ø²Ø±Ù‚ ÙˆØ§Ù„Ø³Ù…Ø§ÙˆÙŠ", color: "#3b82f6",
                groups: [
                    {
                        title: "Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø³Ù…Ø§Ø¡ ÙˆØ§Ù„Ø¨Ø­Ø±",
                        shades: [
                            { name: "Ù„Ø¨Ù†ÙŠ (Light Blue)", hex: "#ADD8E6", anchor: "Ù…Ø±ÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© / Ù„Ø¨Ø³ Ø§Ù„Ø¨ÙŠØ¨ÙŠ", mood: "Ø¨Ø±Ø§Ø¡Ø©ØŒ Ù†Ø¸Ø§ÙØ©" },
                            { name: "Ø³Ù…Ø§ÙˆÙŠ (Sky)", hex: "#87CEEB", anchor: "Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¸Ù‡ÙŠØ±Ø© Ø§Ù„ØµØ§ÙÙŠØ©", mood: "Ø­Ø±ÙŠØ©ØŒ Ø§Ù†Ø·Ù„Ø§Ù‚" },
                            { name: "Ø¨ÙŠØ¨ÙŠ Ø¨Ù„Ùˆ", hex: "#89CFF0", anchor: "ØºØ±Ù Ù†ÙˆÙ… Ø§Ù„Ø£Ø·ÙØ§Ù„", mood: "Ù†Ø¹ÙˆÙ…Ø©ØŒ Ù‡Ø¯ÙˆØ¡" },
                            { name: "Ø£ÙƒÙˆØ§ (Aqua)", hex: "#00FFFF", anchor: "Ù…ÙŠØ§Ù‡ Ø§Ù„Ø¨ÙŠØ³ÙŠÙ† (Ø§Ù„Ù…Ø³Ø¨Ø­)", mood: "Ø§Ù†ØªØ¹Ø§Ø´ØŒ ØµÙŠÙ" }
                        ]
                    },
                    {
                        title: "Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© ÙˆØ§Ù„Ø¯Ø§ÙƒÙ†Ø©",
                        shades: [
                            { name: "Ø£Ø²Ø±Ù‚ ØµØ±ÙŠØ­ (Blue)", hex: "#0000FF", anchor: "Ø´Ø§Ø´Ø© Ø§Ù„Ø®Ø·Ø£ (Blue Screen)", mood: "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØŒ ØµØ±ÙŠØ­" },
                            { name: "Ø²Ù‡Ø±ÙŠ (Royal)", hex: "#4169E1", anchor: "Ø´Ø¹Ø§Ø± Ø¨ÙŠØ¨Ø³ÙŠ / ØºØ·Ø§Ø¡ Ø§Ù„Ù‚Ù„Ù… Ø§Ù„Ø¬Ø§Ù", mood: "Ø­ÙŠÙˆÙŠØ©ØŒ Ø«Ù‚Ø©" },
                            { name: "ÙƒØ­Ù„ÙŠ (Navy)", hex: "#000080", anchor: "Ø¨Ø¯Ù„Ø© Ø§Ù„Ø¸Ø§Ø¨Ø· / Ø§Ù„Ø¨Ù„ÙŠØ²Ø±", mood: "ÙˆÙ‚Ø§Ø±ØŒ Ø³Ù„Ø·Ø©ØŒ Ø§Ø­ØªØ±Ø§ÙÙŠØ©" },
                            { name: "Ù„ÙŠÙ„ÙŠ (Midnight)", hex: "#191970", anchor: "Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„ÙŠÙ„ ÙÙŠ Ø§Ù„ØµØ­Ø±Ø§Ø¡", mood: "ØºÙ…ÙˆØ¶ØŒ Ø³ÙƒÙˆÙ†" }
                        ]
                    },
                    {
                        title: "Ø§Ù„ØªØ±ÙƒÙˆØ§Ø² ÙˆØ§Ù„Ø¬Ù†Ø²Ø§Ø±ÙŠ",
                        shades: [
                            { name: "ÙÙŠØ±ÙˆØ²ÙŠ (Turquoise)", hex: "#40E0D0", anchor: "Ø®Ø§ØªÙ… Ø§Ù„ÙÙŠØ±ÙˆØ² Ø§Ù„Ø³ÙŠÙˆÙŠ", mood: "Ø±ÙˆØ­Ø§Ù†ÙŠØŒ ØªØ±Ø§Ø«ÙŠ" },
                            { name: "Ø¬Ù†Ø²Ø§Ø±ÙŠ (Teal)", hex: "#008080", anchor: "Ø±ÙŠØ´ Ø§Ù„Ø·Ø§ÙˆÙˆØ³ / Ø§Ù„ØµØ¯Ø£ Ø§Ù„Ù‚Ø¯ÙŠÙ…", mood: "Ø±Ù‚ÙŠØŒ Ø§ØªØ²Ø§Ù†" },
                            { name: "Ø¨ØªØ±ÙˆÙ„ÙŠ", hex: "#005f6b", anchor: "Ø¯Ù‡Ø§Ù†Ø§Øª Ø§Ù„Ù‚Ø·ÙŠÙØ© Ø§Ù„Ù…ÙˆØ¯Ø±Ù†", mood: "ÙØ®Ø§Ù…Ø©ØŒ Ø¹Ù…Ù‚" },
                            { name: "ØªÙŠÙØ§Ù†ÙŠ", hex: "#0ABAB5", anchor: "Ø¹Ù„Ø¨ Ø§Ù„Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª", mood: "Ø±Ù‚Ø©ØŒ Ø¹Ø§Ù„Ù…ÙŠØ©" }
                        ]
                    }
                ]
            },
            red: {
                id: 'red', name: "Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø±ÙˆØ²", color: "#ef4444",
                groups: [
                    {
                        title: "Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ù†Ø§Ø± ÙˆØ§Ù„Ø¯Ù…",
                        shades: [
                            { name: "Ø£Ø­Ù…Ø± (Red)", hex: "#FF0000", anchor: "ØªÙŠØ´ÙŠØ±Øª Ø§Ù„Ø£Ù‡Ù„ÙŠ / Ø§Ù„Ø·Ù…Ø§Ø·Ù…", mood: "Ø­Ù…Ø§Ø³ØŒ Ø·Ø§Ù‚Ø©ØŒ Ø®Ø·Ø±" },
                            { name: "Ù‚Ø±Ù…Ø²ÙŠ (Crimson)", hex: "#DC143C", anchor: "Ø¯Ù… Ø§Ù„ØºØ²Ø§Ù„", mood: "Ø¯Ø±Ø§Ù…ÙŠØŒ Ù‚ÙˆÙŠ" },
                            { name: "Ù†Ø¨ÙŠØªÙŠ (Maroon)", hex: "#800000", anchor: "Ø§Ù„ÙƒØ±ÙƒØ¯ÙŠÙ‡ / Ø§Ù„Ø¹Ù†Ø§Ø¨", mood: "Ø£ØµØ§Ù„Ø©ØŒ Ø¯ÙØ¡" },
                            { name: "Ø·ÙˆØ¨ÙŠ", hex: "#B22222", anchor: "Ø§Ù„Ø·ÙˆØ¨ Ø§Ù„Ø£Ø­Ù…Ø± (Ù…Ø¨Ø§Ù†ÙŠ)", mood: "Ø±ÙŠÙÙŠØŒ ØµÙ„Ø§Ø¨Ø©" }
                        ]
                    },
                    {
                        title: "Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø£Ù†ÙˆØ«Ø© ÙˆØ§Ù„Ø²Ù‡ÙˆØ±",
                        shades: [
                            { name: "Ø¨Ù…Ø¨ÙŠ (Pink)", hex: "#FFC0CB", anchor: "ÙØ³Ø§ØªÙŠÙ† Ø§Ù„Ø¨Ù†Ø§Øª / ØºØ²Ù„ Ø§Ù„Ø¨Ù†Ø§Øª", mood: "Ø¯Ù„Ø¹ØŒ Ø±Ù‚Ø©" },
                            { name: "ÙÙˆØ´ÙŠØ§", hex: "#FF00FF", anchor: "Ø¥Ø¶Ø§Ø¡Ø© Ø§Ù„Ø£ÙØ±Ø§Ø­ Ø§Ù„Ù†ÙŠÙˆÙ†", mood: "ØµØ§Ø®Ø¨ØŒ Ù„Ø§ÙØª Ù„Ù„Ø§Ù†ØªØ¨Ø§Ù‡" },
                            { name: "Ù‡ÙˆØª Ø¨ÙŠÙ†Ùƒ", hex: "#FF69B4", anchor: "Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø§Ø±Ø¨ÙŠ", mood: "Ø¬Ø±ÙŠØ¡ØŒ Ù…Ø±Ø­" },
                            { name: "ÙƒØ´Ù…ÙŠØ± (Dusty Rose)", hex: "#Dcaebb", anchor: "Ø§Ù„Ù…ÙØ±ÙˆØ´Ø§Øª ÙˆØ§Ù„Ø³ØªØ§Ø¦Ø± Ø§Ù„Ù…ÙˆØ¯Ø±Ù†", mood: "Ø´ÙŠØ§ÙƒØ©ØŒ Ù‡Ø¯ÙˆØ¡" },
                            { name: "Ø¨Ø·ÙŠØ®ÙŠ (Coral)", hex: "#FF7F50", anchor: "Ù‚Ù„Ø¨ Ø§Ù„Ø¨Ø·ÙŠØ®Ø©", mood: "Ù„Ø°ÙŠØ°ØŒ ØµÙŠÙÙŠ" }
                        ]
                    }
                ]
            },
            green: {
                id: 'green', name: "Ø§Ù„Ø£Ø®Ø¶Ø± ÙˆØ§Ù„Ø·Ø¨ÙŠØ¹Ø©", color: "#22c55e",
                groups: [
                    {
                        title: "Ø®Ø¶Ø§Ø± Ø§Ù„Ø£Ø±Ø¶",
                        shades: [
                            { name: "Ø£Ø®Ø¶Ø± Ø²Ø±Ø¹ÙŠ", hex: "#008000", anchor: "Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙˆØ§Ù„ØºÙŠØ·", mood: "Ù†Ù…Ø§Ø¡ØŒ Ø®ÙŠØ±" },
                            { name: "Ù„ÙŠÙ…ÙˆÙ†ÙŠ (Lime)", hex: "#32CD32", anchor: "Ø¹ØµÙŠØ± Ø§Ù„Ù„ÙŠÙ…ÙˆÙ† Ø¨Ø§Ù„Ù†Ø¹Ù†Ø§Ø¹", mood: "Ù„Ø§Ø³Ø¹ØŒ Ø·Ø§Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©" },
                            { name: "Ø¨Ø³ØªØ§Ø¬ (Pistachio)", hex: "#93C572", anchor: "Ø§Ù„ÙØ³ØªÙ‚ Ø§Ù„Ø­Ù„Ø¨ÙŠ", mood: "Ø´Ù‡ÙŠØŒ Ù…Ù…ÙŠØ²" }
                        ]
                    },
                    {
                        title: "Ø¯Ø±Ø¬Ø§Øª Ø®Ø§ØµØ©",
                        shades: [
                            { name: "Ø²ÙŠØªÙˆÙ†ÙŠ (Olive)", hex: "#556B2F", anchor: "Ø§Ù„Ø²ÙŠØªÙˆÙ† Ø§Ù„Ù…Ø®Ù„Ù„ / Ø§Ù„Ø²ÙŠ Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ", mood: "ØªØ­Ù…Ù„ØŒ Ø¬Ø¯ÙŠØ©" },
                            { name: "Ù…Ù†Øª Ø¬Ø±ÙŠÙ† (Mint)", hex: "#98FF98", anchor: "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ… Ø§Ù„Ù†Ø¹Ù†Ø§Ø¹", mood: "Ù†Ø§Ø¹Ù…ØŒ Ù…Ù†Ø¹Ø´" },
                            { name: "Ø²Ù…Ø±Ø¯ÙŠ (Emerald)", hex: "#50C878", anchor: "Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª Ø§Ù„Ø²Ù…Ø±Ø¯", mood: "Ù…Ù„ÙƒÙŠØŒ Ø«Ù…ÙŠÙ†" },
                            { name: "ÙƒØ±Ù†Ø¨ÙŠ", hex: "#2F4F4F", anchor: "ÙˆØ±Ù‚ Ø§Ù„ÙƒØ±Ù†Ø¨ Ø§Ù„ØºØ§Ù…Ù‚", mood: "ÙˆÙ‚ÙˆØ±ØŒ Ø´ØªÙˆÙŠ" }
                        ]
                    }
                ]
            },
            yellow: {
                id: 'yellow', name: "Ø§Ù„Ø£ØµÙØ± ÙˆØ§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ", color: "#f59e0b",
                groups: [
                    {
                        title: "Ø§Ù„Ø´Ù…Ø³ ÙˆØ§Ù„Ø°Ù‡Ø¨",
                        shades: [
                            { name: "Ø£ØµÙØ± ÙƒÙ†Ø§Ø±ÙŠ", hex: "#FFFF00", anchor: "Ø¹ØµÙÙˆØ± Ø§Ù„ÙƒÙ†Ø§Ø±ÙŠ", mood: "Ø¨Ù‡Ø¬Ø©ØŒ Ø·ÙÙˆÙ„Ø©" },
                            { name: "Ø°Ù‡Ø¨ÙŠ (Gold)", hex: "#FFD700", anchor: "Ø§Ù„Ø¯Ù‡Ø¨ Ø¹ÙŠØ§Ø± 21 (Ø§Ù„ØºÙˆØ§ÙŠØ´)", mood: "Ø«Ø±Ø§Ø¡ØŒ Ù‚ÙŠÙ…Ø©" },
                            { name: "ÙƒÙ‡Ø±Ù…Ø§Ù†ÙŠ (Amber)", hex: "#FFBF00", anchor: "Ø­Ø¬Ø± Ø§Ù„ÙƒÙ‡Ø±Ù…Ø§Ù† / Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙˆØ±", mood: "ØªÙ†Ø¨ÙŠÙ‡ØŒ Ø·Ø§Ù‚Ø©" },
                            { name: "Ù…Ø³Ø·Ø±Ø¯Ø©", hex: "#FFDB58", anchor: "Ø¨Ø±Ø·Ù…Ø§Ù† Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø©", mood: "Ø¯Ø§ÙØ¦ØŒ Ø´Ø¨Ø§Ø¨ÙŠ" }
                        ]
                    },
                    {
                        title: "Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ",
                        shades: [
                            { name: "Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ (Orange)", hex: "#FFA500", anchor: "Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ Ø§Ù„Ø¨Ù„Ø¯ÙŠ", mood: "ÙÙŠØªØ§Ù…ÙŠÙ† Ø³ÙŠØŒ Ù†Ø´Ø§Ø·" },
                            { name: "Ø³ÙŠÙ…ÙˆÙ† (Salmon)", hex: "#FA8072", anchor: "Ø³Ù…Ùƒ Ø§Ù„Ø³Ø§Ù„Ù…ÙˆÙ†", mood: "Ø±Ù‚ÙŠÙ‚ØŒ Ø£Ù†ÙŠÙ‚" },
                            { name: "ÙŠÙˆØ³ÙÙŠ (Tangerine)", hex: "#F28500", anchor: "Ù‚Ø´Ø± Ø§Ù„ÙŠÙˆØ³ÙÙŠ", mood: "Ø¹ØµØ±ÙŠØŒ Ù…Ù†Ø¹Ø´" },
                            { name: "Ù‚Ø±Ø¹ÙŠ", hex: "#D35400", anchor: "Ù‚Ø±Ø¹ Ø§Ù„Ø¹Ø³Ù„", mood: "Ø®Ø±ÙŠÙÙŠØŒ Ø¯Ø§ÙØ¦" }
                        ]
                    }
                ]
            },
            purple: {
                id: 'purple', name: "Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ (Ø§Ù„Ù…ÙˆÙ)", color: "#9333ea",
                groups: [
                    {
                        title: "Ø§Ù„Ù…Ù„ÙˆÙƒÙŠØ© ÙˆØ§Ù„ØºÙ…ÙˆØ¶",
                        shades: [
                            { name: "Ù…ÙˆÙ (Purple)", hex: "#800080", anchor: "Ø²Ù‡Ø±Ø© Ø§Ù„Ø¨Ù†ÙØ³Ø¬", mood: "Ø¥Ø¨Ø¯Ø§Ø¹ØŒ Ø­ÙƒÙ…Ø©" },
                            { name: "Ù„Ø§ÙÙ†Ø¯Ø±", hex: "#E6E6FA", anchor: "Ø§Ù„Ù„Ø§ÙÙ†Ø¯Ø± Ø§Ù„Ù…Ø¬ÙÙ", mood: "Ø§Ø³ØªØ±Ø®Ø§Ø¡ØŒ Ø¹Ø·Ø±" },
                            { name: "Ø¨Ø§Ø°Ù†Ø¬Ø§Ù†ÙŠ", hex: "#483248", anchor: "Ø§Ù„Ø¨Ø§Ø°Ù†Ø¬Ø§Ù† Ø§Ù„Ø±ÙˆÙ…ÙŠ", mood: "Ø«Ù‚ÙŠÙ„ØŒ Ø´ØªÙˆÙŠØŒ Ø¯Ø§ÙƒÙ†" },
                            { name: "Ø£Ø±Ø¬ÙˆØ§Ù†ÙŠ (Magenta)", hex: "#FF00FF", anchor: "Ø£Ø­Ø¨Ø§Ø± Ø§Ù„Ø·Ø§Ø¨Ø¹Ø©", mood: "ØªÙˆØ§Ø²Ù†ØŒ Ø§Ø¨ØªÙƒØ§Ø±" }
                        ]
                    }
                ]
            },
            neutral: {
                id: 'neutral', name: "Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø­Ø§ÙŠØ¯Ø© ÙˆØ§Ù„Ø¨Ù†ÙŠ", color: "#475569",
                groups: [
                    {
                        title: "Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ø±Ù…Ø§Ø¯ÙŠ",
                        shades: [
                            { name: "Ø£Ø³ÙˆØ¯ (Black)", hex: "#000000", anchor: "Ø§Ù„ÙØ­Ù… / Ø§Ù„Ù„ÙŠÙ„", mood: "ÙØ®Ø§Ù…Ø©ØŒ Ø³ÙŠØ¯ Ø§Ù„Ø£Ù„ÙˆØ§Ù†" },
                            { name: "Ø£Ø¨ÙŠØ¶ (White)", hex: "#FFFFFF", anchor: "Ø§Ù„Ù‚Ø·Ù† / Ø§Ù„Ø«Ù„Ø¬", mood: "Ù†Ù‚Ø§Ø¡ØŒ Ø¨Ø¯Ø§ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©" },
                            { name: "Ø±ØµØ§ØµÙŠ (Grey)", hex: "#808080", anchor: "Ø³Ù† Ø§Ù„Ù‚Ù„Ù… Ø§Ù„Ø±ØµØ§Øµ", mood: "Ø­ÙŠØ§Ø¯ØŒ ØªÙˆØ§Ø²Ù†" },
                            { name: "ÙÙŠØ±Ø§Ù†ÙŠ (Charcoal)", hex: "#36454F", anchor: "Ø§Ù„Ø£Ø³ÙÙ„Øª / Ø§Ù„Ø¯Ø®Ø§Ù†", mood: "Ø¹Ù…Ù„ÙŠØŒ ØµÙ†Ø§Ø¹ÙŠ" },
                            { name: "ÙØ¶ÙŠ (Silver)", hex: "#C0C0C0", anchor: "Ø£ÙˆØ§Ù†ÙŠ Ø§Ù„Ø§Ø³ØªØ§Ù†Ù„Ø³", mood: "Ø¹ØµØ±ÙŠØŒ Ø¨Ø§Ø±Ø¯" }
                        ]
                    },
                    {
                        title: "Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø¨ÙŠØ¬ ÙˆØ§Ù„Ø¨Ù†ÙŠ",
                        shades: [
                            { name: "Ø¨Ù†ÙŠ (Brown)", hex: "#8B4513", anchor: "Ø­Ø¨ÙˆØ¨ Ø§Ù„Ù‚Ù‡ÙˆØ© / Ø§Ù„Ø®Ø´Ø¨", mood: "Ø§Ø³ØªÙ‚Ø±Ø§Ø±ØŒ Ø£Ø±Ø¶ÙŠ" },
                            { name: "Ù‡Ø§ÙØ§Ù† (Tan)", hex: "#D2691E", anchor: "Ø§Ù„Ø´Ù†Ø· ÙˆØ§Ù„Ø¬Ø§ÙƒÙŠØª Ø§Ù„Ø¬Ù„Ø¯", mood: "ÙƒÙ„Ø§Ø³ÙŠÙƒØŒ Ø´ÙŠÙƒ" },
                            { name: "Ø¨ÙŠØ¬ (Beige)", hex: "#F5F5DC", anchor: "Ø±Ù…Ù„ Ø§Ù„ØµØ­Ø±Ø§Ø¡", mood: "Ø¨Ø³Ø§Ø·Ø©ØŒ ÙˆØ³Ø¹" },
                            { name: "Ø¬Ù…Ù„ÙŠ (Camel)", hex: "#C19A6B", anchor: "ÙˆØ¨Ø± Ø§Ù„Ø¬Ù…Ù„ / Ø¨Ø§Ù„Ø·Ùˆ Ø´ØªÙˆÙŠ", mood: "Ø¯ÙØ¡ØŒ ØªØ±Ø§Ø«" },
                            { name: "Ø´Ø§Ù…Ø¨ÙŠÙ†", hex: "#F7E7CE", anchor: "ÙØ³Ø§ØªÙŠÙ† Ø§Ù„Ø³Ù‡Ø±Ø©", mood: "Ø§Ø­ØªÙØ§Ù„ØŒ Ø±Ù‚ÙŠ" },
                            { name: "ÙƒØ§ÙƒØ§Ùˆ", hex: "#6f4e37", anchor: "Ù…Ø´Ø±ÙˆØ¨ Ø§Ù„ÙƒØ§ÙƒØ§Ùˆ Ø¨Ø§Ù„Ù„Ø¨Ù†", mood: "Ø±Ø§Ø­Ø©ØŒ Ø´ØªØ§Ø¡" }
                        ]
                    }
                ]
            }
        };

        /**
         * APP CONTROLLER
         * Ø§Ù„Ù…ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
         */
        const app = {
            state: {
                currentCategory: null,
                allShades: []
            },

            init: function() {
                this.flattenShades();
                this.renderHome();
                this.initVS();
            },

            // ØªØ­ÙˆÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø³Ø·Ø­Ø© Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
            flattenShades: function() {
                let list = [];
                Object.values(DB).forEach(cat => {
                    cat.groups.forEach(g => {
                        g.shades.forEach(s => list.push(s));
                    });
                });
                this.state.allShades = list;
            },

            // Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ¨Ø§ÙŠÙ† (Ø£Ø¨ÙŠØ¶ ÙˆØ£Ø³ÙˆØ¯)
            getContrastYIQ: function(hexcolor) {
                hexcolor = hexcolor.replace("#", "");
                var r = parseInt(hexcolor.substr(0, 2), 16);
                var g = parseInt(hexcolor.substr(2, 2), 16);
                var b = parseInt(hexcolor.substr(4, 2), 16);
                var yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;
                return (yiq >= 180) ? '#1e293b' : '#ffffff';
            },

            // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
            router: function(pageId) {
                // Hide all sections
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                // Show target
                document.getElementById(pageId).classList.add('active');
                
                // Update Nav
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                if(document.getElementById(`nav-${pageId}`)) {
                    document.getElementById(`nav-${pageId}`).classList.add('active');
                }

                if(pageId === 'home') {
                    window.scrollTo(0,0);
                }
                if(pageId === 'quiz') {
                    this.nextQuiz();
                }
            },

            // Ø±Ø³Ù… Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            renderHome: function() {
                const container = document.getElementById('categories-container');
                container.innerHTML = '';
                Object.values(DB).forEach(cat => {
                    const card = document.createElement('div');
                    card.className = 'category-card';
                    card.onclick = () => this.openCategory(cat.id);
                    card.innerHTML = `
                        <div class="cat-icon" style="background:${cat.color}">
                            ğŸ¨
                        </div>
                        <div class="cat-info">
                            <h3>${cat.name}</h3>
                            <p>${this.getCategoryCount(cat)} Ø¯Ø±Ø¬Ø© Ù„ÙˆÙ†ÙŠØ©</p>
                        </div>
                    `;
                    container.appendChild(card);
                });
            },

            getCategoryCount: function(cat) {
                let count = 0;
                cat.groups.forEach(g => count += g.shades.length);
                return count;
            },

            // ÙØªØ­ ØªÙØ§ØµÙŠÙ„ ÙØ¦Ø© Ù…Ø¹ÙŠÙ†Ø©
            openCategory: function(id) {
                const cat = DB[id];
                document.getElementById('category-title').innerText = cat.name;
                const container = document.getElementById('palettes-container');
                container.innerHTML = '';

                cat.groups.forEach(group => {
                    const groupDiv = document.createElement('div');
                    groupDiv.className = 'palette-section';
                    
                    const title = document.createElement('h3');
                    title.className = 'palette-title';
                    title.innerText = group.title;
                    groupDiv.appendChild(title);

                    const grid = document.createElement('div');
                    grid.className = 'colors-grid';

                    group.shades.forEach(shade => {
                        const div = document.createElement('div');
                        div.className = 'color-item';
                        div.onclick = () => this.openModal(shade);
                        div.innerHTML = `
                            <div class="color-preview" style="background:${shade.hex}">
                                <div class="copy-overlay">Ù†Ø³Ø®</div>
                            </div>
                            <div class="color-details">
                                <div class="color-name">${shade.name}</div>
                                <div class="color-hex">${shade.hex}</div>
                            </div>
                        `;
                        grid.appendChild(div);
                    });

                    groupDiv.appendChild(grid);
                    container.appendChild(groupDiv);
                });

                this.router('details');
            },

            // Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
            openModal: function(shade) {
                this.currentModalShade = shade;
                const modal = document.getElementById('modal-content');
                const backdrop = document.getElementById('modal-backdrop');
                
                document.getElementById('m-swatch').style.backgroundColor = shade.hex;
                document.getElementById('m-name').innerText = shade.name;
                document.getElementById('m-hex').innerText = shade.hex;
                document.getElementById('m-anchor').innerText = shade.anchor;
                document.getElementById('m-mood').innerText = shade.mood;
                
                backdrop.classList.add('open');
                
                // Ù†Ø³Ø® ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
                this.copyToClipboard(shade.hex);
            },

            closeModal: function() {
                document.getElementById('modal-backdrop').classList.remove('open');
            },

            copyFromModal: function() {
                if(this.currentModalShade) {
                    this.copyToClipboard(this.currentModalShade.hex);
                }
            },

            copyToClipboard: function(text) {
                navigator.clipboard.writeText(text).then(() => {
                    const toast = document.getElementById('toast');
                    toast.classList.add('show');
                    setTimeout(() => toast.classList.remove('show'), 2000);
                });
            },

            // ØµÙØ­Ø© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
            initVS: function() {
                const s1 = document.getElementById('vs-sel-1');
                const s2 = document.getElementById('vs-sel-2');
                
                // Ù…Ù„Ø¡ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
                this.state.allShades.forEach((s, i) => {
                    s1.add(new Option(s.name, i));
                    s2.add(new Option(s.name, i));
                });

                // Ø¶Ø¨Ø· Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ø«ÙŠØ±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… (Ø¬Ù†Ø²Ø§Ø±ÙŠ vs ÙÙŠØ±ÙˆØ²ÙŠ)
                const tealIdx = this.state.allShades.findIndex(s => s.name.includes('Ø¬Ù†Ø²Ø§Ø±ÙŠ'));
                const turqIdx = this.state.allShades.findIndex(s => s.name.includes('ÙÙŠØ±ÙˆØ²ÙŠ'));
                
                s1.value = tealIdx > -1 ? tealIdx : 0;
                s2.value = turqIdx > -1 ? turqIdx : 1;
                
                this.renderVS();
            },

            renderVS: function() {
                const i1 = document.getElementById('vs-sel-1').value;
                const i2 = document.getElementById('vs-sel-2').value;
                const s1 = this.state.allShades[i1];
                const s2 = this.state.allShades[i2];

                const l = document.getElementById('vs-left');
                const r = document.getElementById('vs-right');

                l.style.backgroundColor = s1.hex;
                r.style.backgroundColor = s2.hex;
                
                l.style.color = this.getContrastYIQ(s1.hex);
                r.style.color = this.getContrastYIQ(s2.hex);

                document.getElementById('vs-name-1').innerText = s1.name;
                document.getElementById('vs-hex-1').innerText = s1.hex;
                
                document.getElementById('vs-name-2').innerText = s2.name;
                document.getElementById('vs-hex-2').innerText = s2.hex;
            },

            // Ø§Ù„ÙƒÙˆÙŠØ²
            nextQuiz: function() {
                document.getElementById('quiz-next-btn').style.display = 'none';
                document.getElementById('quiz-feedback').innerText = '';
                const optsDiv = document.getElementById('quiz-options');
                optsDiv.innerHTML = '';

                // Ø§Ø®ØªÙŠØ§Ø± ÙØ§Ø¦Ø²
                const list = this.state.allShades;
                const winner = list[Math.floor(Math.random() * list.length)];

                // Ø§Ø®ØªÙŠØ§Ø± Ù…Ù…ÙˆÙ‡Ø§Øª
                let options = [winner];
                while(options.length < 3) {
                    let r = list[Math.floor(Math.random() * list.length)];
                    // Ù†ØªØ£ÙƒØ¯ Ø¥Ù† Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ø´ Ù†ÙØ³ Ø§Ù„ÙØ§Ø¦Ø² ÙˆÙ…Ø´ Ù…ÙƒØ±Ø±
                    if(!options.includes(r)) options.push(r);
                }
                options.sort(() => Math.random() - 0.5);

                // Ø§Ù„Ø±Ø³Ù…
                document.getElementById('quiz-target').style.backgroundColor = winner.hex;

                options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.innerText = opt.name; // Ø§Ù„Ø§Ø³Ù… ÙÙ‚Ø· Ù‡Ùˆ Ø§Ù„ØªØ­Ø¯ÙŠ
                    btn.onclick = () => {
                        // ØªØ¬Ù…ÙŠØ¯ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                        Array.from(optsDiv.children).forEach(b => b.disabled = true);
                        
                        if(opt === winner) {
                            btn.classList.add('correct');
                            document.getElementById('quiz-feedback').innerText = "Ù…Ù…ØªØ§Ø²! Ø¹ÙŠÙ†Ùƒ Ù…ÙŠØ²Ø§Ù† ğŸ¯";
                            document.getElementById('quiz-feedback').style.color = "green";
                        } else {
                            btn.classList.add('wrong');
                            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­
                            Array.from(optsDiv.children).forEach(b => {
                                if(b.innerText === winner.name) b.classList.add('correct');
                            });
                            document.getElementById('quiz-feedback').innerText = `Ø®Ø·Ø£.. Ø§Ù„Ù„ÙˆÙ† ÙƒØ§Ù† ${winner.name}`;
                            document.getElementById('quiz-feedback').style.color = "red";
                        }
                        document.getElementById('quiz-next-btn').style.display = 'inline-block';
                    }
                    optsDiv.appendChild(btn);
                });
            }
        };

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        window.onload = function() {
            app.init();
        };

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± ÙÙŠ Ø§Ù„Ø®Ø§Ø±Ø¬
        document.getElementById('modal-backdrop').addEventListener('click', function(e) {
            if (e.target === this) app.closeModal();
        });

    </script>
</body>
</html>