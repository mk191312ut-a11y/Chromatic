<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ù„Ù…ØµÙ…Ù…ÙŠÙ† Ø§Ù„Ù…ØµØ±ÙŠÙŠÙ† - ÙƒØ±ÙˆÙ…Ø§ØªÙŠÙƒ">
    <title>ÙƒØ±ÙˆÙ…Ø§ØªÙŠÙƒ | Chromatic - Ø£Ø­Ù…Ø¯ Ù‡Ø´Ø§Ù…</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… --- */
        :root {
            --primary: #2563eb;
            --dark: #0f172a;
            --light: #f8fafc;
            --white: #ffffff;
            --gray: #64748b;
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
            --radius: 16px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        
        body {
            font-family: 'Almarai', sans-serif;
            background-color: var(--light);
            color: var(--dark);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* --- 2. Ø§Ù„Ù‡ÙŠØ¯Ø± --- */
        header {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            position: sticky; top: 0; z-index: 1000;
            padding: 15px 5%; border-bottom: 1px solid #eee;
        }
        .nav-box {
            max-width: 1200px; margin: 0 auto;
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--dark); cursor: pointer; }
        .logo span { color: var(--primary); }
        
        nav { display: flex; gap: 5px; }
        nav button {
            background: transparent; border: none; padding: 8px 15px;
            font-family: inherit; font-weight: 700; color: var(--gray);
            cursor: pointer; transition: 0.3s;
        }
        nav button.active, nav button:hover { color: var(--primary); background: #eff6ff; border-radius: 8px; }

        /* --- 3. Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† ÙˆØ§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ø§Ù… --- */
        main { max-width: 1200px; margin: 0 auto; padding: 40px 20px; min-height: 85vh; }
        .section { display: none; }
        .section.active { display: block; }

        .fade-up { animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; transform: translateY(30px); }
        @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }

        /* --- 4. ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù…Ø·ÙˆØ± --- */
        .center-container { max-width: 600px; margin: 60px auto; text-align: center; }
        
        .hero-logo { font-size: 4rem; font-weight: 900; margin-bottom: 15px; color: var(--dark); letter-spacing: -2px; }
        .hero-logo span { color: var(--primary); }
        .hero-desc { font-size: 1.2rem; line-height: 1.7; color: var(--gray); margin-bottom: 40px; }

        .profile-card {
            background: white; border: 1px solid #e2e8f0; border-radius: 24px; padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.06); margin-bottom: 30px; transition: 0.3s;
        }
        .profile-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.1); }
        
        .my-name { font-size: 1.4rem; font-weight: 800; color: var(--dark); margin-bottom: 5px; }
        .my-title { display: inline-block; background: #eff6ff; color: var(--primary); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 700; margin-bottom: 20px; }
        
        .whatsapp-btn {
            display: flex; align-items: center; justify-content: center; gap: 10px;
            background: #25D366; color: white; text-decoration: none;
            padding: 15px; border-radius: 12px; font-weight: 700; font-size: 1.1rem;
            transition: 0.3s; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }
        .whatsapp-btn:hover { background: #20bd5a; transform: scale(1.02); }

        .start-btn {
            background: var(--dark); color: white; border: none; padding: 18px 60px;
            border-radius: 50px; font-size: 1.2rem; font-weight: 700; cursor: pointer;
            transition: 0.3s; margin-top: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 35px rgba(0,0,0,0.2); background: var(--primary); }

        .prayer-box { margin-top: 30px; font-style: italic; color: #94a3b8; font-size: 0.9rem; }

        /* --- 5. Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª (Home, VS, Quiz) --- */
        h1.title { text-align: center; font-size: 2.2rem; margin-bottom: 10px; color: var(--dark); }
        p.subtitle { text-align: center; color: var(--gray); margin-bottom: 40px; }

        .cat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .cat-card {
            background: var(--white); padding: 25px; border-radius: var(--radius);
            box-shadow: var(--shadow); cursor: pointer; transition: 0.3s;
            display: flex; align-items: center; gap: 20px; border: 1px solid transparent;
        }
        .cat-card:hover { transform: translateY(-5px); border-color: #cbd5e1; }
        .cat-icon { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: white; }

        .back-btn { display: inline-flex; align-items: center; padding: 10px 20px; background: var(--white); border: 1px solid #e2e8f0; border-radius: 50px; cursor: pointer; font-weight: 700; margin-bottom: 30px; }
        .group-title { font-size: 1.3rem; margin: 30px 0 15px; padding-right: 15px; border-right: 4px solid var(--primary); color: var(--dark); }
        .colors-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 15px; }
        .color-item { background: var(--white); border-radius: 12px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.05); cursor: pointer; transition: 0.3s; }
        .color-item:hover { transform: scale(1.05); }
        .color-preview { height: 120px; width: 100%; position: relative; }
        .color-info { padding: 10px; text-align: center; }
        .color-name { font-weight: 700; font-size: 0.9rem; margin-bottom: 3px; }
        .color-hex { font-size: 0.75rem; color: var(--gray); font-family: monospace; }
        .copy-hint { position: absolute; inset: 0; background: rgba(0,0,0,0.4); color: white; display: flex; align-items: center; justify-content: center; opacity: 0; font-weight: 700; transition: 0.2s; }
        .color-item:hover .copy-hint { opacity: 1; }

        .vs-box { background: var(--white); border-radius: 20px; overflow: hidden; box-shadow: var(--shadow); }
        .vs-header { padding: 20px; background: #f1f5f9; display: flex; justify-content: center; gap: 15px; align-items: center; }
        .vs-body { display: flex; height: 50vh; }
        .vs-half { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: 0.4s; }
        select { padding: 8px 15px; border-radius: 8px; border: 1px solid #ccc; font-family: inherit; }

        .quiz-box { max-width: 500px; margin: 0 auto; background: var(--white); padding: 30px; border-radius: 20px; text-align: center; box-shadow: var(--shadow); }
        .quiz-target { height: 180px; width: 100%; border-radius: 15px; margin-bottom: 20px; box-shadow: inset 0 0 20px rgba(0,0,0,0.1); }
        .quiz-btn { display: block; width: 100%; padding: 12px; margin-bottom: 10px; background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .quiz-btn:hover { background: #e2e8f0; }
        .quiz-btn.correct { background: #dcfce7; border-color: #22c55e; color: #166534; }
        .quiz-btn.wrong { background: #fee2e2; border-color: #ef4444; color: #991b1b; }

        .modal-wrap { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 2000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .modal-wrap.open { display: flex; }
        .modal { background: var(--white); width: 90%; max-width: 450px; padding: 30px; border-radius: 20px; text-align: center; position: relative; animation: popIn 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28); }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .modal-circle { width: 100px; height: 100px; border-radius: 50%; margin: 0 auto 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .info-row { background: #f8fafc; padding: 15px; border-radius: 10px; margin-top: 10px; text-align: right; }
        .info-row h4 { font-size: 0.8rem; color: var(--gray); margin-bottom: 5px; }
        .info-row p { font-weight: 700; color: var(--dark); }

        .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 10px 25px; border-radius: 50px; opacity: 0; transition: 0.3s; pointer-events: none; }
        .toast.show { opacity: 1; bottom: 50px; }

        @media (max-width: 700px) { .nav-box { flex-direction: column; gap: 10px; } .vs-body { flex-direction: column; } }
    </style>
</head>
<body>

    <header>
        <div class="nav-box">
            <div class="logo" onclick="app.go('landing')">Chrom<span>atic</span></div>
            <nav>
                <button onclick="app.go('home')" id="btn-home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                <button onclick="app.go('vs')" id="btn-vs">Ù…Ù‚Ø§Ø±Ù†Ø©</button>
                <button onclick="app.go('quiz')" id="btn-quiz">Ø§Ø®ØªØ¨Ø§Ø±</button>
                <button onclick="app.go('about')" id="btn-about">Ø¹Ù† Ø§Ù„Ù…Ø·ÙˆØ±</button>
            </nav>
        </div>
    </header>

    <main>
        <section id="landing" class="section active">
            <div class="center-container">
                <div class="fade-up delay-1">
                    <div class="hero-logo">Chrom<span>atic</span></div>
                    <p class="hero-desc">
                        Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØµØ±ÙŠØ©. Ø£ÙˆÙ„ Ø£Ø¯Ø§Ø© Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„ØªØ¯Ø±ÙŠØ¨ Ø¹ÙŠÙ† Ø§Ù„Ù…ØµÙ…Ù… Ø¹Ù„Ù‰ Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„ÙØ±ÙˆÙ‚ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ø¨ÙŠÙ† Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ØµØ±ÙŠ.
                    </p>
                </div>
                
                <button onclick="app.go('home')" class="start-btn fade-up delay-2">
                    ØªØµÙØ­ Ø§Ù„Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„Ø¢Ù† ğŸš€
                </button>
            </div>
        </section>

        <section id="about" class="section">
            <div class="center-container">
                <h1 class="title fade-up delay-1">Ø¹Ù† Ø§Ù„Ù…Ø·ÙˆØ±</h1>
                
                <div class="profile-card fade-up delay-2">
                    <div class="my-name">Ø£Ø­Ù…Ø¯ Ù‡Ø´Ø§Ù… Ø§Ù„Ø­Ù†Ø§ÙˆÙŠ</div>
                    <span class="my-title">Graphic Designer | Ø®Ø¨Ø±Ø© Ø¹Ø§Ù…ÙŠÙ†</span>
                    
                    <a href="https://wa.me/201063344184" target="_blank" class="whatsapp-btn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.0028 2C6.48625 2 1.99805 6.48817 1.99805 12.0047C1.99805 13.7667 2.45561 15.4855 3.34217 17.0223L2.07349 21.6521L6.81232 20.4093C8.28682 21.2148 9.94827 21.6315 11.9934 21.6315C17.5099 21.6315 21.998 17.1433 21.998 11.6268C21.998 6.11025 17.5099 2 12.0028 2Z" fill="white" fill-opacity="0.2"/><path d="M11.9979 2.94678C16.9859 2.94678 21.0456 7.00644 21.0456 11.9945C21.0456 16.9825 16.9859 21.0422 11.9979 21.0422C10.2222 21.0422 8.56303 20.5516 7.13524 19.697L6.69772 19.4354L3.65586 20.2335L4.47169 17.2575L4.18664 16.8041C3.25593 15.3248 2.76609 13.5857 2.76609 11.7827C2.76609 6.79471 6.82575 2.73505 11.8138 2.73505L11.9979 2.94678Z" stroke="white" stroke-width="2"/></svg>
                        ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ ÙˆØ§ØªØ³Ø§Ø¨
                    </a>
                </div>

                <div class="prayer-box fade-up delay-3">
                    "Ù†Ø³Ø£Ù„Ùƒ Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø¨Ø¸Ù‡Ø± Ø§Ù„ØºÙŠØ¨ Ù„ÙƒÙ„ Ù…Ù† Ø³Ø§Ù‡Ù… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…Ù„"
                    <br><br>
                    Â© 2026 Ahmed Hesham. All rights reserved.
                </div>
            </div>
        </section>

        <section id="home" class="section">
            <h1 class="title">Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØµØ±ÙŠØ© ğŸ¨</h1>
            <p class="subtitle">Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„: Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ØµØ±ÙŠØŒ ÙˆÙƒÙˆØ¯ ÙƒÙ„ Ù„ÙˆÙ†.</p>
            <div class="cat-grid" id="cat-container"></div>
        </section>

        <section id="details" class="section">
            <button class="back-btn" onclick="app.go('home')">â† Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
            <h1 class="title" id="det-title"></h1>
            <div id="det-container"></div>
        </section>

        <section id="vs" class="section">
            <h1 class="title">Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© (VS)</h1>
            <div class="vs-box">
                <div class="vs-header">
                    <select id="sel1" onchange="app.renderVS()"></select>
                    <b>Ø¶Ø¯</b>
                    <select id="sel2" onchange="app.renderVS()"></select>
                </div>
                <div class="vs-body">
                    <div class="vs-half" id="vs1">
                        <h2 id="name1"></h2> <span id="hex1" style="font-family:monospace"></span>
                    </div>
                    <div class="vs-half" id="vs2">
                        <h2 id="name2"></h2> <span id="hex2" style="font-family:monospace"></span>
                    </div>
                </div>
            </div>
        </section>

        <section id="quiz" class="section">
            <h1 class="title">ØªØ­Ø¯ÙŠ "Ø¹ÙŠÙ† Ø§Ù„ØµÙ‚Ø±" ğŸ¦…</h1>
            <div class="quiz-box">
                <div class="quiz-target" id="q-target"></div>
                <div id="q-options"></div>
                <div id="q-msg" style="height:20px; margin-top:10px; font-weight:bold;"></div>
                <button onclick="app.newQ()" id="q-next" style="display:none; margin-top:15px; padding:10px 20px; background:#333; color:white; border:none; border-radius:20px; cursor:pointer;">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </section>
    </main>

    <div class="modal-wrap" id="modal-wrap" onclick="if(event.target==this) app.closeModal()">
        <div class="modal">
            <button onclick="app.closeModal()" style="position:absolute; top:15px; right:20px; border:none; background:none; font-size:1.5rem; cursor:pointer;">Ã—</button>
            <div class="modal-circle" id="m-color"></div>
            <h2 id="m-name" style="margin-bottom:5px;"></h2>
            <span id="m-hex" style="background:#eee; padding:5px 10px; border-radius:15px; font-size:0.8rem; font-family:monospace;"></span>
            
            <div class="info-row">
                <h4>âš“ Ù…Ø«Ø§Ù„ ÙˆØ§Ù‚Ø¹ÙŠ:</h4>
                <p id="m-anchor"></p>
            </div>
            <div class="info-row">
                <h4>ğŸ§  Ø§Ù„Ø¥Ø­Ø³Ø§Ø³ (Mood):</h4>
                <p id="m-mood"></p>
            </div>
            <button onclick="app.copyCurrent()" style="width:100%; margin-top:20px; padding:12px; background:var(--primary); color:white; border:none; border-radius:10px; font-weight:700; cursor:pointer;">Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
        </div>
    </div>
    
    <div class="toast" id="toast">ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¨Ù†Ø¬Ø§Ø­ âœ…</div>

    <script>
        const DB = {
            blue: {
                id: 'blue', name: "Ø§Ù„Ø£Ø²Ø±Ù‚ ÙˆØ§Ù„Ø³Ù…Ø§ÙˆÙŠ", color: "#3b82f6",
                groups: [
                    { title: "Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø§Ù„ÙØ§ØªØ­Ø©", shades: [ { name: "Ù„Ø¨Ù†ÙŠ (Light Blue)", hex: "#ADD8E6", anchor: "Ù„Ø¨Ø³ Ø§Ù„Ù…ÙˆØ§Ù„ÙŠØ¯", mood: "Ø¨Ø±Ø§Ø¡Ø©" }, { name: "Ø³Ù…Ø§ÙˆÙŠ (Sky)", hex: "#87CEEB", anchor: "Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¸Ù‡Ø±ÙŠØ©", mood: "Ø§Ù†Ø´Ø±Ø§Ø­" }, { name: "Ø¨ÙŠØ¨ÙŠ Ø¨Ù„Ùˆ", hex: "#89CFF0", anchor: "ØºØ±Ù Ø§Ù„Ø£Ø·ÙØ§Ù„", mood: "Ù‡Ø¯ÙˆØ¡" }, { name: "Ø£Ø²Ø±Ù‚ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ", hex: "#7DF9FF", anchor: "Ù†ÙŠÙˆÙ†", mood: "Ø·Ø§Ù‚Ø©" } ] },
                    { title: "Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¨Ø­Ø±", shades: [ { name: "ØªÙŠÙØ§Ù†ÙŠ", hex: "#0ABAB5", anchor: "Ù…Ø¬ÙˆÙ‡ÙˆØ§Øª", mood: "Ø±Ù‚Ø©" }, { name: "Ø£ÙƒÙˆØ§", hex: "#00FFFF", anchor: "Ø§Ù„Ø¨ÙŠØ³ÙŠÙ†", mood: "Ø§Ù†ØªØ¹Ø§Ø´" }, { name: "ÙÙŠØ±ÙˆØ²ÙŠ", hex: "#40E0D0", anchor: "Ø§Ù„ÙÙŠØ±ÙˆØ²", mood: "ØªØ±Ø§Ø«ÙŠ" }, { name: "Ø¬Ù†Ø²Ø§Ø±ÙŠ", hex: "#008080", anchor: "Ø±ÙŠØ´ Ø§Ù„Ø·Ø§ÙˆÙˆØ³", mood: "Ø±Ù‚ÙŠ" } ] },
                    { title: "Ø§Ù„ØºØ§Ù…Ù‚ ÙˆØ§Ù„Ø±Ø³Ù…ÙŠ", shades: [ { name: "Ø£Ø²Ø±Ù‚ ØµØ±ÙŠØ­", hex: "#4169E1", anchor: "Ø¨ÙŠØ¨Ø³ÙŠ", mood: "Ø­ÙŠÙˆÙŠØ©" }, { name: "ÙƒØ­Ù„ÙŠ", hex: "#000080", anchor: "Ø¨Ø¯Ù„Ø© Ø¶Ø¨Ø§Ø·", mood: "ÙˆÙ‚Ø§Ø±" }, { name: "Ø¨ØªØ±ÙˆÙ„ÙŠ", hex: "#005f6b", anchor: "Ù‚Ø·ÙŠÙØ©", mood: "ÙØ®Ø§Ù…Ø©" }, { name: "Ù†ÙŠÙ„ÙŠ", hex: "#4B0082", anchor: "Ø¬ÙŠÙ†Ø² ØºØ§Ù…Ù‚", mood: "ØºÙ…ÙˆØ¶" }, { name: "Ø£Ø²Ø±Ù‚ Ù…ØµØ±ÙŠ", hex: "#1034A6", anchor: "Ø§Ù„Ù†Ù‚ÙˆØ´ Ø§Ù„ÙØ±Ø¹ÙˆÙ†ÙŠØ©", mood: "Ø¹Ø¸Ù…Ø©" } ] }
                ]
            },
            red: {
                id: 'red', name: "Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø±ÙˆØ²", color: "#ef4444",
                groups: [
                    { title: "Ù†Ø§Ø± ÙˆØ¯Ù…", shades: [ { name: "Ø£Ø­Ù…Ø±", hex: "#FF0000", anchor: "ØªÙŠØ´ÙŠØ±Øª Ø§Ù„Ø£Ù‡Ù„ÙŠ", mood: "Ø­Ù…Ø§Ø³" }, { name: "Ù†Ø¨ÙŠØªÙŠ", hex: "#800000", anchor: "ÙˆØ±Ø¯ Ø¨Ù„Ø¯ÙŠ", mood: "Ø£ØµØ§Ù„Ø©" }, { name: "Ø¯Ù… Ø§Ù„ØºØ²Ø§Ù„", hex: "#4A0404", anchor: "Ø­Ù†Ø§Ø¡", mood: "Ø¹Ù…Ù‚" }, { name: "Ø·ÙˆØ¨ÙŠ", hex: "#B22222", anchor: "Ø·ÙˆØ¨ Ø£Ø­Ù…Ø±", mood: "ØµÙ„Ø§Ø¨Ø©" } ] },
                    { title: "Ø¨Ù…Ø¨ÙŠ ÙˆÙƒØ´Ù…ÙŠØ±", shades: [ { name: "ÙƒØ´Ù…ÙŠØ±", hex: "#Dcaebb", anchor: "Ù…ÙØ±ÙˆØ´Ø§Øª", mood: "Ù…ÙˆØ¶Ø©" }, { name: "Ø¨Ù…Ø¨ÙŠ", hex: "#FFC0CB", anchor: "ÙØ³Ø§ØªÙŠÙ†", mood: "Ø¯Ù„Ø¹" }, { name: "ÙÙˆØ´ÙŠØ§", hex: "#FF00FF", anchor: "Ø£ÙØ±Ø§Ø­", mood: "ØµØ§Ø®Ø¨" }, { name: "Ø®ÙˆØ®ÙŠ", hex: "#FFDAB9", anchor: "Ù…ÙŠÙƒØ¨", mood: "Ù†Ø§Ø¹Ù…" }, { name: "Ø¨Ø·ÙŠØ®ÙŠ", hex: "#FF7F50", anchor: "Ù‚Ù„Ø¨ Ø§Ù„Ø¨Ø·ÙŠØ®Ø©", mood: "Ù„Ø°ÙŠØ°" } ] }
                ]
            },
            yellow: {
                id: 'yellow', name: "Ø§Ù„Ø£ØµÙØ± ÙˆØ§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ", color: "#f59e0b",
                groups: [
                    { title: "Ø§Ù„Ø£ØµÙØ±", shades: [ { name: "Ø£ØµÙØ±", hex: "#FFFF00", anchor: "Ø§Ù„Ø´Ù…Ø³", mood: "Ø¥Ø´Ø±Ø§Ù‚" }, { name: "ÙƒÙ†Ø§Ø±ÙŠ", hex: "#FFEF00", anchor: "Ø¹ØµÙÙˆØ±", mood: "Ø¨Ù‡Ø¬Ø©" }, { name: "Ù…Ø³Ø·Ø±Ø¯Ø©", hex: "#FFDB58", anchor: "Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø©", mood: "Ø¯Ø§ÙØ¦" }, { name: "Ø²Ø¹ÙØ±Ø§Ù†ÙŠ", hex: "#F4C430", anchor: "Ø²Ø¹ÙØ±Ø§Ù†", mood: "ØºÙ†ÙŠ" }, { name: "Ù…Ø§Ù†Ø¬Ùˆ", hex: "#F4BB44", anchor: "Ù…Ø§Ù†Ø¬Ø§ Ø¹ÙˆÙŠØ³", mood: "Ø´Ù‡ÙŠ" } ] },
                    { title: "Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ÙˆÙ†Ø­Ø§Ø³ÙŠ", shades: [ { name: "Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ", hex: "#FFA500", anchor: "Ø¨Ø±ØªÙ‚Ø§Ù„", mood: "Ù†Ø´Ø§Ø·" }, { name: "Ø³ÙŠÙ…ÙˆÙ†", hex: "#FA8072", anchor: "Ø¯Ù‡Ø§Ù†Ø§Øª", mood: "Ù…Ø±ÙŠØ­" }, { name: "Ù‡Ø§ÙØ§Ù†", hex: "#D2691E", anchor: "Ø¬Ù„Ø¯", mood: "Ø´ÙŠØ§ÙƒØ©" }, { name: "Ù†Ø­Ø§Ø³ÙŠ", hex: "#B87333", anchor: "Ø£ÙˆØ§Ù†ÙŠ", mood: "Ø¹Ø±Ø§Ù‚Ø©" } ] }
                ]
            },
            green: {
                id: 'green', name: "Ø§Ù„Ø£Ø®Ø¶Ø±", color: "#22c55e",
                groups: [
                    { title: "Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©", shades: [ { name: "Ø£Ø®Ø¶Ø± Ø²Ø±Ø¹ÙŠ", hex: "#008000", anchor: "Ø§Ù„ØºÙŠØ·", mood: "Ù†Ù…Ø§Ø¡" }, { name: "Ù„ÙŠÙ…ÙˆÙ†ÙŠ", hex: "#32CD32", anchor: "Ù„ÙŠÙ…ÙˆÙ†", mood: "Ù„Ø§Ø³Ø¹" }, { name: "Ø²ÙŠØªÙˆÙ†ÙŠ", hex: "#556B2F", anchor: "Ø²ÙŠ Ø¹Ø³ÙƒØ±ÙŠ", mood: "ØªØ­Ù…Ù„" }, { name: "ØªÙØ§Ø­ÙŠ", hex: "#8DB600", anchor: "ØªÙØ§Ø­", mood: "Ù†Ø¶Ø§Ø±Ø©" } ] },
                    { title: "Ù…ÙˆØ¯Ø±Ù†", shades: [ { name: "Ù…Ù†Øª Ø¬Ø±ÙŠÙ†", hex: "#98FF98", anchor: "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…", mood: "Ù…Ù†Ø¹Ø´" }, { name: "ÙØ³ØªÙ‚ÙŠ", hex: "#93C572", anchor: "ÙØ³ØªÙ‚", mood: "Ù…Ù…ÙŠØ²" }, { name: "Ø²Ù…Ø±Ø¯ÙŠ", hex: "#50C878", anchor: "Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª", mood: "Ø«Ù…ÙŠÙ†" }, { name: "Ø¬ÙŠØ´ÙŠ", hex: "#4B5320", anchor: "Ù…Ù…ÙˆÙ‡", mood: "Ø®Ø´Ù†" } ] }
                ]
            },
            neutral: {
                id: 'neutral', name: "Ù…Ø­Ø§ÙŠØ¯ ÙˆØ¨Ù†ÙŠ", color: "#64748b",
                groups: [
                    { title: "ÙÙˆØ§ØªØ­", shades: [ { name: "Ø£Ø¨ÙŠØ¶", hex: "#FFFFFF", anchor: "Ù‚Ø·Ù†", mood: "Ù†Ù‚Ø§Ø¡" }, { name: "Ø£ÙˆÙ ÙˆØ§ÙŠØª", hex: "#F8F8FF", anchor: "ÙØ³ØªØ§Ù† ÙØ±Ø­", mood: "ÙˆØ³Ø¹" }, { name: "Ø¹Ø§Ø¬ÙŠ", hex: "#FFFFF0", anchor: "Ø¹Ø§Ø¬", mood: "Ù‚ÙŠÙ…Ø©" }, { name: "Ø¨ÙŠØ¬", hex: "#F5F5DC", anchor: "Ø±Ù…Ù„", mood: "Ø­ÙŠØ§Ø¯" } ] },
                    { title: "Ø±Ù…Ø§Ø¯ÙŠØ§Øª", shades: [ { name: "Ø±ØµØ§ØµÙŠ", hex: "#808080", anchor: "Ù‚Ù„Ù… Ø±ØµØ§Øµ", mood: "ØªÙˆØ§Ø²Ù†" }, { name: "ÙÙŠØ±Ø§Ù†ÙŠ", hex: "#36454F", anchor: "Ø£Ø³ÙÙ„Øª", mood: "Ø¹Ù…Ù„ÙŠ" }, { name: "Ø£Ø³ÙˆØ¯", hex: "#000000", anchor: "Ù„ÙŠÙ„", mood: "ÙØ®Ø§Ù…Ø©" } ] },
                    { title: "Ø¨Ù†ÙŠØ§Øª", shades: [ { name: "Ø¨Ù†ÙŠ", hex: "#8B4513", anchor: "Ø®Ø´Ø¨", mood: "Ø§Ø³ØªÙ‚Ø±Ø§Ø±" }, { name: "Ø¬Ù…Ù„ÙŠ", hex: "#C19A6B", anchor: "ÙˆØ¨Ø± Ø¬Ù…Ù„", mood: "Ø¯ÙØ¡" }, { name: "ÙƒØ§ÙÙŠÙ‡", hex: "#C5A582", anchor: "Ù†Ø³ÙƒØ§ÙÙŠÙ‡", mood: "Ù‡Ø¯ÙˆØ¡" }, { name: "ÙƒØ§ÙƒØ§Ùˆ", hex: "#6f4e37", anchor: "ÙƒØ§ÙƒØ§Ùˆ", mood: "Ø´ØªØ§Ø¡" } ] }
                ]
            },
            purple: {
                id: 'purple', name: "Ø§Ù„Ù…ÙˆÙ", color: "#9333ea",
                groups: [ { title: "ÙƒÙ„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª", shades: [ { name: "Ù…ÙˆÙ", hex: "#800080", anchor: "Ø¨Ù†ÙØ³Ø¬", mood: "Ø¥Ø¨Ø¯Ø§Ø¹" }, { name: "Ù„Ø§ÙÙ†Ø¯Ø±", hex: "#E6E6FA", anchor: "ÙˆØ±Ø¯ Ù…Ø¬ÙÙ", mood: "Ø§Ø³ØªØ±Ø®Ø§Ø¡" }, { name: "Ø¨ØªÙ†Ø¬Ø§Ù†ÙŠ", hex: "#483248", anchor: "Ø¨Ø§Ø°Ù†Ø¬Ø§Ù†", mood: "Ø¯Ø§ÙƒÙ†" }, { name: "Ù…Ø§Ø¬ÙŠÙ†ØªØ§", hex: "#FF00FF", anchor: "Ø­Ø¨Ø±", mood: "Ø§Ø¨ØªÙƒØ§Ø±" } ] } ]
            },
            metal: {
                id: 'metal', name: "Ù…Ø¹Ø§Ø¯Ù†", color: "#FFD700",
                groups: [ { title: "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù†", shades: [ { name: "Ø°Ù‡Ø¨ÙŠ", hex: "#FFD700", anchor: "Ø¯Ù‡Ø¨ 21", mood: "Ø«Ø±Ø§Ø¡" }, { name: "ÙØ¶ÙŠ", hex: "#C0C0C0", anchor: "Ø³ÙŠØ§Ø±Ø§Øª", mood: "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§" }, { name: "Ø¨Ø±ÙˆÙ†Ø²", hex: "#CD7F32", anchor: "Ù…ÙŠØ¯Ø§Ù„ÙŠØ©", mood: "Ù‚ÙˆØ©" }, { name: "Ù†Ø­Ø§Ø³ÙŠ", hex: "#B87333", anchor: "Ø£ÙˆØ§Ù†ÙŠ", mood: "Ø¹Ø±Ø§Ù‚Ø©" } ] } ]
            }
        };

        const app = {
            currentShade: null,
            allShades: [],

            init: function() {
                Object.values(DB).forEach(cat => {
                    cat.groups.forEach(g => {
                        g.shades.forEach(s => this.allShades.push(s));
                    });
                });
                this.renderHome();
                this.initVS();
            },

            go: function(pageId) {
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                
                document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
                if(document.getElementById(`btn-${pageId}`)) document.getElementById(`btn-${pageId}`).classList.add('active');
                
                if(pageId === 'landing' || pageId === 'home') window.scrollTo(0,0);
                if(pageId === 'quiz') this.newQ();
            },

            renderHome: function() {
                const con = document.getElementById('cat-container');
                con.innerHTML = '';
                Object.values(DB).forEach(cat => {
                    let count = 0;
                    cat.groups.forEach(g => count += g.shades.length);
                    const card = document.createElement('div');
                    card.className = 'cat-card';
                    card.onclick = () => this.openCat(cat.id);
                    card.innerHTML = `<div class="cat-icon" style="background:${cat.color}">ğŸ¨</div><div><h3 style="margin-bottom:5px">${cat.name}</h3><span style="color:#888; font-size:0.9rem">${count} Ø¯Ø±Ø¬Ø© Ù„ÙˆÙ†ÙŠØ©</span></div>`;
                    con.appendChild(card);
                });
            },

            openCat: function(id) {
                const cat = DB[id];
                document.getElementById('det-title').innerText = cat.name;
                const con = document.getElementById('det-container');
                con.innerHTML = '';
                cat.groups.forEach(g => {
                    const div = document.createElement('div');
                    div.innerHTML = `<h3 class="group-title">${g.title}</h3>`;
                    const grid = document.createElement('div');
                    grid.className = 'colors-grid';
                    g.shades.forEach(s => {
                        const item = document.createElement('div');
                        item.className = 'color-item';
                        item.onclick = () => this.openModal(s);
                        item.innerHTML = `<div class="color-preview" style="background:${s.hex}"><div class="copy-hint">Ù†Ø³Ø®</div></div><div class="color-info"><div class="color-name">${s.name}</div><div class="color-hex">${s.hex}</div></div>`;
                        grid.appendChild(item);
                    });
                    div.appendChild(grid);
                    con.appendChild(div);
                });
                this.go('details');
            },

            openModal: function(shade) {
                this.currentShade = shade;
                document.getElementById('m-color').style.backgroundColor = shade.hex;
                document.getElementById('m-name').innerText = shade.name;
                document.getElementById('m-hex').innerText = shade.hex;
                document.getElementById('m-anchor').innerText = shade.anchor;
                document.getElementById('m-mood').innerText = shade.mood;
                document.getElementById('modal-wrap').classList.add('open');
            },
            closeModal: function() { document.getElementById('modal-wrap').classList.remove('open'); },
            copyCurrent: function() { if(this.currentShade) this.copyText(this.currentShade.hex); },
            copyText: function(txt) {
                navigator.clipboard.writeText(txt).then(() => {
                    const t = document.getElementById('toast');
                    t.classList.add('show');
                    setTimeout(() => t.classList.remove('show'), 2000);
                });
            },

            initVS: function() {
                const s1 = document.getElementById('sel1');
                const s2 = document.getElementById('sel2');
                this.allShades.forEach((s, i) => {
                    s1.add(new Option(s.name, i));
                    s2.add(new Option(s.name, i));
                });
                const can = this.allShades.findIndex(x => x.name.includes('ÙƒÙ†Ø§Ø±ÙŠ'));
                const yel = this.allShades.findIndex(x => x.name === 'Ø£ØµÙØ±');
                s1.value = can > -1 ? can : 0;
                s2.value = yel > -1 ? yel : 1;
                this.renderVS();
            },
            renderVS: function() {
                const sh1 = this.allShades[document.getElementById('sel1').value];
                const sh2 = this.allShades[document.getElementById('sel2').value];
                const v1 = document.getElementById('vs1');
                const v2 = document.getElementById('vs2');
                v1.style.backgroundColor = sh1.hex;
                v2.style.backgroundColor = sh2.hex;
                v1.style.color = this.isLight(sh1.hex) ? '#333' : '#fff';
                v2.style.color = this.isLight(sh2.hex) ? '#333' : '#fff';
                document.getElementById('name1').innerText = sh1.name;
                document.getElementById('hex1').innerText = sh1.hex;
                document.getElementById('name2').innerText = sh2.name;
                document.getElementById('hex2').innerText = sh2.hex;
            },
            isLight: function(hex) {
                const r = parseInt(hex.substr(1,2),16);
                const g = parseInt(hex.substr(3,2),16);
                const b = parseInt(hex.substr(5,2),16);
                return ((r*299 + g*587 + b*114)/1000) > 180;
            },

            newQ: function() {
                document.getElementById('q-next').style.display = 'none';
                document.getElementById('q-msg').innerText = '';
                const box = document.getElementById('q-options');
                box.innerHTML = '';
                const winner = this.allShades[Math.floor(Math.random() * this.allShades.length)];
                let opts = [winner];
                while(opts.length < 3) {
                    let r = this.allShades[Math.floor(Math.random() * this.allShades.length)];
                    if(!opts.includes(r)) opts.push(r);
                }
                opts.sort(() => Math.random() - 0.5);
                document.getElementById('q-target').style.backgroundColor = winner.hex;
                opts.forEach(o => {
                    const btn = document.createElement('button');
                    btn.className = 'quiz-btn';
                    btn.innerText = o.name;
                    btn.onclick = () => {
                        Array.from(box.children).forEach(b => b.disabled = true);
                        if(o === winner) {
                            btn.classList.add('correct');
                            document.getElementById('q-msg').innerText = "ØµØ­! Ø¨Ø±Ø§ÙÙˆ Ø¹Ù„ÙŠÙƒ ğŸ¯";
                            document.getElementById('q-msg').style.color = "green";
                        } else {
                            btn.classList.add('wrong');
                            Array.from(box.children).forEach(b => { if(b.innerText === winner.name) b.classList.add('correct'); });
                            document.getElementById('q-msg').innerText = `ØºÙ„Ø·.. Ø¯ÙŠ ÙƒØ§Ù†Øª ${winner.name}`;
                            document.getElementById('q-msg').style.color = "red";
                        }
                        document.getElementById('q-next').style.display = 'block';
                    };
                    box.appendChild(btn);
                });
            }
        };

        window.onload = () => app.init();
    </script>
</body>
</html>
